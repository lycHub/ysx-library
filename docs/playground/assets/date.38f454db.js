var qe=Object.defineProperty;var Re=(n,r,e)=>r in n?qe(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;var u=(n,r,e)=>(Re(n,typeof r!="symbol"?r+"":r,e),e);var Jr=`import { PickerBaseOptions, ValueOrNull } from "@ysx-libs/mobile-picker";\r
\r
export interface FormattedValue {\r
  pickerIndex: number;\r
  index: number;\r
  type: ColumnType;\r
  value: string;\r
}\r
\r
export interface GenYearEvent {\r
  selectedDate: ValueOrNull<Date>;\r
  min: Date;\r
  max: Date;\r
}\r
\r
export interface GenRes {\r
  selected: string;\r
  data: string[];\r
}\r
\r
export type ColumnType = 'y' | 'M' | 'd' | 'H' | 'm' | 's';\r
\r
export type GenFullRes = {\r
  [key in ColumnType]?: GenRes;\r
};\r
\r
export type DateFilterFunc = (value: string, date: Date) => boolean;\r
\r
export type DateFilter = {\r
  [key in ColumnType]?: DateFilterFunc;\r
};\r
\r
export interface DatePickerOptions extends Partial<PickerBaseOptions> {\r
  mode: ColumnType[];\r
  filter?: DateFilter;\r
  value: ValueOrNull<Date>;\r
  onChange?(event: Date, type: ColumnType): void;\r
}`,Sr=`import { ColumnType, DateFilter, DateFilterFunc, DatePickerOptions, FormattedValue, GenFullRes, GenRes } from "../types/date-picker";\r
import {\r
  getDate,\r
  getDaysInMonth,\r
  getHours,\r
  getMinutes,\r
  getMonth,\r
  getSeconds,\r
  getYear,\r
  isValid,\r
  parse,\r
} from 'date-fns';\r
\r
export const FullMode: ColumnType[] = ['y', 'M', 'd', 'H', 'm', 's'];\r
export const DefaultMode: ColumnType[] = ['y', 'M', 'd', 'H', 'm'];\r
\r
export function validModeList(mode: ColumnType[]): ColumnType[] {\r
  const res = Array.from(new Set(mode)).filter((item) =>\r
    FullMode.includes(item),\r
  );\r
  return res?.length ? res : DefaultMode;\r
}\r
\r
function getValidDate(selectedDate: DatePickerOptions['value']): Date {\r
  return isValid(selectedDate) ? selectedDate! : new Date();\r
}\r
\r
export function getDateRangeEnum(\r
  min: number,\r
  max: number,\r
  date: Date,\r
  filter?: DateFilterFunc,\r
): string[] {\r
  const data = [];\r
  // eslint-disable-next-line no-plusplus\r
  for (let i = min; i <= max; i++) {\r
    const pass = filter?.(i.toString(), date) ?? true;\r
    if (pass) {\r
      data.push(i.toString());\r
    }\r
  }\r
  return data;\r
}\r
\r
\r
function genYears(\r
  selected: Date,\r
  filter: DateFilterFunc,\r
): GenRes {\r
  // todo: \u5F53\u7528\u6237\u4F20\u7684value\u548Cfilter\u51B2\u7A81\u65F6\uFF0C\u662F\u5426\u9700\u8981\u6821\u9A8Cselected\u662F\u5426\u5728data\u4E2D\uFF1F\r
  return {\r
    selected: getYear(selected).toString(),\r
    data: getDateRangeEnum(1970, 2099, selected, filter),\r
  };\r
}\r
\r
function genMonths(selected: Date, filter?: DateFilterFunc): GenRes {\r
  return {\r
    selected: (getMonth(selected) + 1).toString(),\r
    data: getDateRangeEnum(1, 12, selected, filter),\r
  };\r
}\r
\r
function genDays(selected: Date, filter?: DateFilterFunc): GenRes {\r
  const y = getYear(selected);\r
  const m = getMonth(selected);\r
  const d = getDate(selected);\r
  const days = getDaysInMonth(new Date(y, m));\r
  return {\r
    selected: d.toString(),\r
    data: getDateRangeEnum(1, days, selected, filter),\r
  };\r
}\r
\r
function genHours(selected: Date, filter?: DateFilterFunc): GenRes {\r
  return {\r
    selected: getHours(selected).toString(),\r
    data: getDateRangeEnum(0, 23, selected, filter),\r
  };\r
}\r
function genMins(selected: Date, filter?: DateFilterFunc): GenRes {\r
  return {\r
    selected: getMinutes(selected).toString(),\r
    data: getDateRangeEnum(0, 59, selected, filter),\r
  };\r
}\r
function genSecs(selected: Date, filter?: DateFilterFunc): GenRes {\r
  return {\r
    selected: getSeconds(selected).toString(),\r
    data: getDateRangeEnum(0, 59, selected, filter),\r
  };\r
}\r
\r
export function genOptions(\r
  event: DatePickerOptions['value'],\r
  filter?: DateFilter,\r
): GenFullRes {\r
  // const modes = validModeList(mode);\r
  const validDate = getValidDate(event);\r
  const allData: Record<ColumnType, GenRes> = {\r
    y: genYears(validDate, filter?.y || defaultYearFilter),\r
    M: genMonths(validDate, filter?.M),\r
    d: genDays(validDate, filter?.d),\r
    H: genHours(validDate, filter?.H),\r
    m: genMins(validDate, filter?.m),\r
    s: genSecs(validDate, filter?.s),\r
  };\r
  return allData;\r
}\r
\r
\r
function defaultYearFilter(value: string, date: Date) {\r
  const currentYear = getYear(date);\r
  return +value >= currentYear - 10 && +value <= currentYear + 10;\r
}\r
\r
\r
export function valueToDate(formattedValue: FormattedValue[]): Date {\r
  const dates: string[] = [];\r
  const types: string[] = [];\r
  formattedValue.forEach(({ type, value }) => {\r
    dates.push(value);\r
    let formattedType = '';\r
    switch (type) {\r
      case 'y':\r
        formattedType = 'yyyy';\r
        break;\r
      default:\r
        formattedType = type;\r
        break;\r
    }\r
    types.push(formattedType);\r
  });\r
  return parse(dates.join('/'), types.join('/'), new Date());\r
}\r
\r
\r
export function updateMonth(\r
  formattedValue: FormattedValue[],\r
  filter: DateFilterFunc,\r
) {\r
  const y = +formattedValue.find((item) => item.type === 'y')!.value;\r
  const newOptions = getDateRangeEnum(1, 12, new Date(y), filter);\r
  const currentMonthValue = formattedValue.find((item) => item.type === 'M')!.value;\r
  const newIndex = newOptions.findIndex(item => item === currentMonthValue);\r
  const newValue = newIndex > -1 ? newOptions[newIndex] : newOptions[0];\r
  return {\r
    newValue,\r
    newIndex: Math.max(newIndex, 0),\r
    newOptions,\r
    valueChanged: newValue !== currentMonthValue,\r
  };\r
}\r
\r
export function updateDay(\r
  formattedValue: FormattedValue[],\r
  filter?: DateFilterFunc,\r
) {\r
  const y = +formattedValue.find((item) => item.type === 'y')!.value;\r
  const M = +formattedValue.find((item) => item.type === 'M')!.value - 1;\r
  const days = getDaysInMonth(new Date(y, M));\r
  const newOptions = getDateRangeEnum(1, days, new Date(y, M), filter);\r
  const currentDayValue = formattedValue.find((item) => item.type === 'd')!.value;\r
  const newIndex = newOptions.findIndex(item => item === currentDayValue);\r
  const newValue = newIndex > -1 ? newOptions[newIndex] : newOptions[0];\r
  return {\r
    newValue,\r
    newIndex: Math.max(newIndex, 0),\r
    newOptions,\r
    valueChanged: newValue !== currentDayValue,\r
  };\r
}\r
\r
export function updateHour(\r
  formattedValue: FormattedValue[],\r
  filter: DateFilterFunc,\r
) {\r
  const y = +formattedValue.find((item) => item.type === 'y')!.value;\r
  const M = +formattedValue.find((item) => item.type === 'M')!.value - 1;\r
  const d = +formattedValue.find((item) => item.type === 'd')!.value;\r
  const newOptions = getDateRangeEnum(0, 23, new Date(y, M, d), filter);\r
  const currentHourValue = formattedValue.find((item) => item.type === 'H')!.value;\r
  const newIndex = newOptions.findIndex(item => item === currentHourValue);\r
  const newValue = newIndex > -1 ? newOptions[newIndex] : newOptions[0];\r
  return {\r
    newValue,\r
    newIndex: Math.max(newIndex, 0),\r
    newOptions,\r
    valueChanged: newValue !== currentHourValue,\r
  };\r
}\r
\r
export function updateMinute(\r
  formattedValue: FormattedValue[],\r
  filter: DateFilterFunc,\r
) {\r
  const y = +formattedValue.find((item) => item.type === 'y')!.value;\r
  const M = +formattedValue.find((item) => item.type === 'M')!.value - 1;\r
  const d = +formattedValue.find((item) => item.type === 'd')!.value;\r
  const H = +formattedValue.find((item) => item.type === 'H')!.value;\r
  const newOptions = getDateRangeEnum(0, 59, new Date(y, M, d, H), filter);\r
  const currentMinuteValue = formattedValue.find((item) => item.type === 'm')!.value;\r
  const newIndex = newOptions.findIndex(item => item === currentMinuteValue);\r
  const newValue = newIndex > -1 ? newOptions[newIndex] : newOptions[0];\r
  return {\r
    newValue,\r
    newIndex: Math.max(newIndex, 0),\r
    newOptions,\r
    valueChanged: newValue !== currentMinuteValue,\r
  };\r
}\r
\r
export function updateSecond(\r
  formattedValue: FormattedValue[],\r
  filter: DateFilterFunc,\r
) {\r
  const y = +formattedValue.find((item) => item.type === 'y')!.value;\r
  const M = +formattedValue.find((item) => item.type === 'M')!.value - 1;\r
  const d = +formattedValue.find((item) => item.type === 'd')!.value;\r
  const H = +formattedValue.find((item) => item.type === 'H')!.value;\r
  const m = +formattedValue.find((item) => item.type === 'm')!.value;\r
  const newOptions = getDateRangeEnum(0, 59, new Date(y, M, d, H, m), filter);\r
  const currentSecondValue = formattedValue.find((item) => item.type === 's')!.value;\r
  const newIndex = newOptions.findIndex(item => item === currentSecondValue);\r
  const newValue = newIndex > -1 ? newOptions[newIndex] : newOptions[0];\r
  return {\r
    newValue,\r
    newIndex: Math.max(newIndex, 0),\r
    newOptions,\r
    valueChanged: newValue !== currentSecondValue,\r
  };\r
}`;const ye=Symbol.for("constructDateFrom");function O(n,r){return typeof n=="function"?n(r):n&&typeof n=="object"&&ye in n?n[ye](r):n instanceof Date?new n.constructor(r):new Date(r)}function y(n,r){return O(r||n,n)}function ve(n,r,e){const t=y(n,e==null?void 0:e.in);return isNaN(r)?O((e==null?void 0:e.in)||n,NaN):(r&&t.setDate(t.getDate()+r),t)}let Ne={};function G(){return Ne}function q(n,r){var o,d,c,l,f,k,P,D;const e=G(),t=(D=(P=(l=(c=r==null?void 0:r.weekStartsOn)!=null?c:(d=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:d.weekStartsOn)!=null?l:e.weekStartsOn)!=null?P:(k=(f=e.locale)==null?void 0:f.options)==null?void 0:k.weekStartsOn)!=null?D:0,a=y(n,r==null?void 0:r.in),s=a.getDay(),i=(s<t?7:0)+s-t;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Q(n,r){return q(n,{...r,weekStartsOn:1})}function Oe(n,r){const e=y(n,r==null?void 0:r.in),t=e.getFullYear(),a=O(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const s=Q(a),i=O(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Q(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function ee(n){const r=y(n),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+n-+e}function Le(n,...r){const e=O.bind(null,n||r.find(t=>typeof t=="object"));return r.map(e)}function ge(n,r){const e=y(n,r==null?void 0:r.in);return e.setHours(0,0,0,0),e}function Qe(n,r,e){const[t,a]=Le(e==null?void 0:e.in,n,r),s=ge(t),i=ge(a),o=+s-ee(s),d=+i-ee(i);return Math.round((o-d)/864e5)}function Ge(n,r){const e=Oe(n,r),t=O((r==null?void 0:r.in)||n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Q(t)}function Xe(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ke(n){return!(!Xe(n)&&typeof n!="number"||isNaN(+y(n)))}function Be(n,r){const e=y(n,r==null?void 0:r.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const Ae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},je=(n,r,e)=>{let t;const a=Ae[n];return typeof a=="string"?t=a:r===1?t=a.one:t=a.other.replace("{{count}}",r.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function ne(n){return(r={})=>{const e=r.width?String(r.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const $e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Je={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Se={date:ne({formats:$e,defaultWidth:"full"}),time:ne({formats:ze,defaultWidth:"full"}),dateTime:ne({formats:Je,defaultWidth:"full"})},Ze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ke=(n,r,e,t)=>Ze[n];function K(n){return(r,e)=>{const t=e!=null&&e.context?String(e.context):"standalone";let a;if(t==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,o=e!=null&&e.width?String(e.width):i;a=n.formattingValues[o]||n.formattingValues[i]}else{const i=n.defaultWidth,o=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[o]||n.values[i]}const s=n.argumentCallback?n.argumentCallback(r):r;return a[s]}}const Ue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},et={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},at={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},st=(n,r)=>{const e=Number(n),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},it={ordinalNumber:st,era:K({values:Ue,defaultWidth:"wide"}),quarter:K({values:et,defaultWidth:"wide",argumentCallback:n=>n-1}),month:K({values:tt,defaultWidth:"wide"}),day:K({values:rt,defaultWidth:"wide"}),dayPeriod:K({values:nt,defaultWidth:"wide",formattingValues:at,defaultFormattingWidth:"wide"})};function U(n){return(r,e={})=>{const t=e.width,a=t&&n.matchPatterns[t]||n.matchPatterns[n.defaultMatchWidth],s=r.match(a);if(!s)return null;const i=s[0],o=t&&n.parsePatterns[t]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(o)?ot(o,f=>f.test(i)):ut(o,f=>f.test(i));let c;c=n.valueCallback?n.valueCallback(d):d,c=e.valueCallback?e.valueCallback(c):c;const l=r.slice(i.length);return{value:c,rest:l}}}function ut(n,r){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&r(n[e]))return e}function ot(n,r){for(let e=0;e<n.length;e++)if(r(n[e]))return e}function ct(n){return(r,e={})=>{const t=r.match(n.matchPattern);if(!t)return null;const a=t[0],s=r.match(n.parsePattern);if(!s)return null;let i=n.valueCallback?n.valueCallback(s[0]):s[0];i=e.valueCallback?e.valueCallback(i):i;const o=r.slice(a.length);return{value:i,rest:o}}}const dt=/^(\d+)(th|st|nd|rd)?/i,lt=/\d+/i,ft={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mt={any:[/^b/i,/^(a|c)/i]},ht={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wt={any:[/1/i,/2/i,/3/i,/4/i]},yt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vt={ordinalNumber:ct({matchPattern:dt,parsePattern:lt,valueCallback:n=>parseInt(n,10)}),era:U({matchPatterns:ft,defaultMatchWidth:"wide",parsePatterns:mt,defaultParseWidth:"any"}),quarter:U({matchPatterns:ht,defaultMatchWidth:"wide",parsePatterns:wt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:U({matchPatterns:yt,defaultMatchWidth:"wide",parsePatterns:gt,defaultParseWidth:"any"}),day:U({matchPatterns:bt,defaultMatchWidth:"wide",parsePatterns:xt,defaultParseWidth:"any"}),dayPeriod:U({matchPatterns:Dt,defaultMatchWidth:"any",parsePatterns:Mt,defaultParseWidth:"any"})},pe={code:"en-US",formatDistance:je,formatLong:Se,formatRelative:Ke,localize:it,match:vt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ot(n,r){const e=y(n,r==null?void 0:r.in);return Qe(e,Be(e))+1}function Pe(n,r){const e=y(n,r==null?void 0:r.in),t=+Q(e)-+Ge(e);return Math.round(t/6048e5)+1}function ie(n,r){var l,f,k,P,D,Y,F,I;const e=y(n,r==null?void 0:r.in),t=e.getFullYear(),a=G(),s=(I=(F=(P=(k=r==null?void 0:r.firstWeekContainsDate)!=null?k:(f=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)!=null?P:a.firstWeekContainsDate)!=null?F:(Y=(D=a.locale)==null?void 0:D.options)==null?void 0:Y.firstWeekContainsDate)!=null?I:1,i=O((r==null?void 0:r.in)||n,0);i.setFullYear(t+1,0,s),i.setHours(0,0,0,0);const o=q(i,r),d=O((r==null?void 0:r.in)||n,0);d.setFullYear(t,0,s),d.setHours(0,0,0,0);const c=q(d,r);return+e>=+o?t+1:+e>=+c?t:t-1}function kt(n,r){var o,d,c,l,f,k,P,D;const e=G(),t=(D=(P=(l=(c=r==null?void 0:r.firstWeekContainsDate)!=null?c:(d=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:d.firstWeekContainsDate)!=null?l:e.firstWeekContainsDate)!=null?P:(k=(f=e.locale)==null?void 0:f.options)==null?void 0:k.firstWeekContainsDate)!=null?D:1,a=ie(n,r),s=O((r==null?void 0:r.in)||n,0);return s.setFullYear(a,0,t),s.setHours(0,0,0,0),q(s,r)}function Te(n,r){const e=y(n,r==null?void 0:r.in),t=+q(e,r)-+kt(e,r);return Math.round(t/6048e5)+1}function w(n,r){const e=n<0?"-":"",t=Math.abs(n).toString().padStart(r,"0");return e+t}const _={y(n,r){const e=n.getFullYear(),t=e>0?e:1-e;return w(r==="yy"?t%100:t,r.length)},M(n,r){const e=n.getMonth();return r==="M"?String(e+1):w(e+1,2)},d(n,r){return w(n.getDate(),r.length)},a(n,r){const e=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,r){return w(n.getHours()%12||12,r.length)},H(n,r){return w(n.getHours(),r.length)},m(n,r){return w(n.getMinutes(),r.length)},s(n,r){return w(n.getSeconds(),r.length)},S(n,r){const e=r.length,t=n.getMilliseconds(),a=Math.trunc(t*Math.pow(10,e-3));return w(a,r.length)}},L={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},be={G:function(n,r,e){const t=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(t,{width:"abbreviated"});case"GGGGG":return e.era(t,{width:"narrow"});case"GGGG":default:return e.era(t,{width:"wide"})}},y:function(n,r,e){if(r==="yo"){const t=n.getFullYear(),a=t>0?t:1-t;return e.ordinalNumber(a,{unit:"year"})}return _.y(n,r)},Y:function(n,r,e,t){const a=ie(n,t),s=a>0?a:1-a;if(r==="YY"){const i=s%100;return w(i,2)}return r==="Yo"?e.ordinalNumber(s,{unit:"year"}):w(s,r.length)},R:function(n,r){const e=Oe(n);return w(e,r.length)},u:function(n,r){const e=n.getFullYear();return w(e,r.length)},Q:function(n,r,e){const t=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(t);case"QQ":return w(t,2);case"Qo":return e.ordinalNumber(t,{unit:"quarter"});case"QQQ":return e.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(t,{width:"wide",context:"formatting"})}},q:function(n,r,e){const t=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(t);case"qq":return w(t,2);case"qo":return e.ordinalNumber(t,{unit:"quarter"});case"qqq":return e.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(t,{width:"wide",context:"standalone"})}},M:function(n,r,e){const t=n.getMonth();switch(r){case"M":case"MM":return _.M(n,r);case"Mo":return e.ordinalNumber(t+1,{unit:"month"});case"MMM":return e.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(t,{width:"wide",context:"formatting"})}},L:function(n,r,e){const t=n.getMonth();switch(r){case"L":return String(t+1);case"LL":return w(t+1,2);case"Lo":return e.ordinalNumber(t+1,{unit:"month"});case"LLL":return e.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(t,{width:"wide",context:"standalone"})}},w:function(n,r,e,t){const a=Te(n,t);return r==="wo"?e.ordinalNumber(a,{unit:"week"}):w(a,r.length)},I:function(n,r,e){const t=Pe(n);return r==="Io"?e.ordinalNumber(t,{unit:"week"}):w(t,r.length)},d:function(n,r,e){return r==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):_.d(n,r)},D:function(n,r,e){const t=Ot(n);return r==="Do"?e.ordinalNumber(t,{unit:"dayOfYear"}):w(t,r.length)},E:function(n,r,e){const t=n.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(t,{width:"short",context:"formatting"});case"EEEE":default:return e.day(t,{width:"wide",context:"formatting"})}},e:function(n,r,e,t){const a=n.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return w(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,r,e,t){const a=n.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return w(s,r.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,r,e){const t=n.getDay(),a=t===0?7:t;switch(r){case"i":return String(a);case"ii":return w(a,r.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(t,{width:"short",context:"formatting"});case"iiii":default:return e.day(t,{width:"wide",context:"formatting"})}},a:function(n,r,e){const a=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,r,e){const t=n.getHours();let a;switch(t===12?a=L.noon:t===0?a=L.midnight:a=t/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,r,e){const t=n.getHours();let a;switch(t>=17?a=L.evening:t>=12?a=L.afternoon:t>=4?a=L.morning:a=L.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,r,e){if(r==="ho"){let t=n.getHours()%12;return t===0&&(t=12),e.ordinalNumber(t,{unit:"hour"})}return _.h(n,r)},H:function(n,r,e){return r==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):_.H(n,r)},K:function(n,r,e){const t=n.getHours()%12;return r==="Ko"?e.ordinalNumber(t,{unit:"hour"}):w(t,r.length)},k:function(n,r,e){let t=n.getHours();return t===0&&(t=24),r==="ko"?e.ordinalNumber(t,{unit:"hour"}):w(t,r.length)},m:function(n,r,e){return r==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):_.m(n,r)},s:function(n,r,e){return r==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):_.s(n,r)},S:function(n,r){return _.S(n,r)},X:function(n,r,e){const t=n.getTimezoneOffset();if(t===0)return"Z";switch(r){case"X":return De(t);case"XXXX":case"XX":return R(t);case"XXXXX":case"XXX":default:return R(t,":")}},x:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"x":return De(t);case"xxxx":case"xx":return R(t);case"xxxxx":case"xxx":default:return R(t,":")}},O:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+xe(t,":");case"OOOO":default:return"GMT"+R(t,":")}},z:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+xe(t,":");case"zzzz":default:return"GMT"+R(t,":")}},t:function(n,r,e){const t=Math.trunc(+n/1e3);return w(t,r.length)},T:function(n,r,e){return w(+n,r.length)}};function xe(n,r=""){const e=n>0?"-":"+",t=Math.abs(n),a=Math.trunc(t/60),s=t%60;return s===0?e+String(a):e+String(a)+r+w(s,2)}function De(n,r){return n%60===0?(n>0?"-":"+")+w(Math.abs(n)/60,2):R(n,r)}function R(n,r=""){const e=n>0?"-":"+",t=Math.abs(n),a=w(Math.trunc(t/60),2),s=w(t%60,2);return e+a+r+s}const Me=(n,r)=>{switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ye=(n,r)=>{switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},pt=(n,r)=>{const e=n.match(/(P+)(p+)?/)||[],t=e[1],a=e[2];if(!a)return Me(n,r);let s;switch(t){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Me(t,r)).replace("{{time}}",Ye(a,r))},ae={p:Ye,P:pt},Pt=/^D+$/,Tt=/^Y+$/,Yt=["D","DD","YY","YYYY"];function Fe(n){return Pt.test(n)}function Ie(n){return Tt.test(n)}function se(n,r,e){const t=Ft(n,r,e);if(console.warn(t),Yt.includes(n))throw new RangeError(t)}function Ft(n,r,e){const t=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${r}\`) for formatting ${t} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const It=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ht=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Et=/^'([^]*?)'?$/,Wt=/''/g,Ct=/[a-zA-Z]/;function Zr(n,r,e){var l,f,k,P,D,Y,F,I,V,X,B,A,j,$,z,J,S,Z;const t=G(),a=(f=(l=e==null?void 0:e.locale)!=null?l:t.locale)!=null?f:pe,s=(X=(V=(Y=(D=e==null?void 0:e.firstWeekContainsDate)!=null?D:(P=(k=e==null?void 0:e.locale)==null?void 0:k.options)==null?void 0:P.firstWeekContainsDate)!=null?Y:t.firstWeekContainsDate)!=null?V:(I=(F=t.locale)==null?void 0:F.options)==null?void 0:I.firstWeekContainsDate)!=null?X:1,i=(Z=(S=($=(j=e==null?void 0:e.weekStartsOn)!=null?j:(A=(B=e==null?void 0:e.locale)==null?void 0:B.options)==null?void 0:A.weekStartsOn)!=null?$:t.weekStartsOn)!=null?S:(J=(z=t.locale)==null?void 0:z.options)==null?void 0:J.weekStartsOn)!=null?Z:0,o=y(n,e==null?void 0:e.in);if(!ke(o))throw new RangeError("Invalid time value");let d=r.match(Ht).map(T=>{const p=T[0];if(p==="p"||p==="P"){const N=ae[p];return N(T,a.formatLong)}return T}).join("").match(It).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const p=T[0];if(p==="'")return{isToken:!1,value:Vt(T)};if(be[p])return{isToken:!0,value:T};if(p.match(Ct))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:T}});a.localize.preprocessor&&(d=a.localize.preprocessor(o,d));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return d.map(T=>{if(!T.isToken)return T.value;const p=T.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Ie(p)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Fe(p))&&se(p,r,String(n));const N=be[p[0]];return N(o,p,a.localize,c)}).join("")}function Vt(n){const r=n.match(Et);return r?r[1].replace(Wt,"'"):n}function _t(n,r){return y(n,r==null?void 0:r.in).getDate()}function He(n,r){const e=y(n,r==null?void 0:r.in),t=e.getFullYear(),a=e.getMonth(),s=O(e,0);return s.setFullYear(t,a+1,0),s.setHours(0,0,0,0),s.getDate()}function qt(){return Object.assign({},G())}function Rt(n,r){return y(n,r==null?void 0:r.in).getHours()}function Nt(n,r){const e=y(n,r==null?void 0:r.in).getDay();return e===0?7:e}function Lt(n,r){return y(n,r==null?void 0:r.in).getMinutes()}function Ee(n,r){return y(n,r==null?void 0:r.in).getMonth()}function Qt(n){return y(n).getSeconds()}function ue(n,r){return y(n,r==null?void 0:r.in).getFullYear()}function Gt(n,r){const e=Xt(r)?new r(0):O(r,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function Xt(n){var r;return typeof n=="function"&&((r=n.prototype)==null?void 0:r.constructor)===n}const Bt=10;class We{constructor(){u(this,"subPriority",0)}validate(r,e){return!0}}class At extends We{constructor(r,e,t,a,s){super(),this.value=r,this.validateValue=e,this.setValue=t,this.priority=a,s&&(this.subPriority=s)}validate(r,e){return this.validateValue(r,this.value,e)}set(r,e,t){return this.setValue(r,e,this.value,t)}}class jt extends We{constructor(e,t){super();u(this,"priority",Bt);u(this,"subPriority",-1);this.context=e||(a=>O(t,a))}set(e,t){return t.timestampIsSet?e:O(e,Gt(e,this.context))}}class h{run(r,e,t,a){const s=this.parse(r,e,t,a);return s?{setter:new At(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(r,e,t){return!0}}class $t extends h{constructor(){super(...arguments);u(this,"priority",140);u(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const M={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},W={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function v(n,r){return n&&{value:r(n.value),rest:n.rest}}function g(n,r){const e=r.match(n);return e?{value:parseInt(e[0],10),rest:r.slice(e[0].length)}:null}function C(n,r){const e=r.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:r.slice(1)};const t=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(a*36e5+s*6e4+i*1e3),rest:r.slice(e[0].length)}}function Ce(n){return g(M.anyDigitsSigned,n)}function x(n,r){switch(n){case 1:return g(M.singleDigit,r);case 2:return g(M.twoDigits,r);case 3:return g(M.threeDigits,r);case 4:return g(M.fourDigits,r);default:return g(new RegExp("^\\d{1,"+n+"}"),r)}}function te(n,r){switch(n){case 1:return g(M.singleDigitSigned,r);case 2:return g(M.twoDigitsSigned,r);case 3:return g(M.threeDigitsSigned,r);case 4:return g(M.fourDigitsSigned,r);default:return g(new RegExp("^-?\\d{1,"+n+"}"),r)}}function oe(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ve(n,r){const e=r>0,t=e?r:1-r;let a;if(t<=50)a=n||100;else{const s=t+50,i=Math.trunc(s/100)*100,o=n>=s%100;a=n+i-(o?100:0)}return e?a:1-a}function _e(n){return n%400===0||n%4===0&&n%100!==0}class zt extends h{constructor(){super(...arguments);u(this,"priority",130);u(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return v(x(4,e),s);case"yo":return v(a.ordinalNumber(e,{unit:"year"}),s);default:return v(x(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const s=e.getFullYear();if(a.isTwoDigitYear){const o=Ve(a.year,s);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class Jt extends h{constructor(){super(...arguments);u(this,"priority",130);u(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return v(x(4,e),s);case"Yo":return v(a.ordinalNumber(e,{unit:"year"}),s);default:return v(x(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,s){const i=ie(e,s);if(a.isTwoDigitYear){const d=Ve(a.year,i);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),q(e,s)}const o=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(o,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),q(e,s)}}class St extends h{constructor(){super(...arguments);u(this,"priority",130);u(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return te(t==="R"?4:t.length,e)}set(e,t,a){const s=O(e,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Q(s)}}class Zt extends h{constructor(){super(...arguments);u(this,"priority",130);u(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return te(t==="u"?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class Kt extends h{constructor(){super(...arguments);u(this,"priority",120);u(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return x(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class Ut extends h{constructor(){super(...arguments);u(this,"priority",120);u(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return x(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class er extends h{constructor(){super(...arguments);u(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);u(this,"priority",110)}parse(e,t,a){const s=i=>i-1;switch(t){case"M":return v(g(M.month,e),s);case"MM":return v(x(2,e),s);case"Mo":return v(a.ordinalNumber(e,{unit:"month"}),s);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class tr extends h{constructor(){super(...arguments);u(this,"priority",110);u(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const s=i=>i-1;switch(t){case"L":return v(g(M.month,e),s);case"LL":return v(x(2,e),s);case"Lo":return v(a.ordinalNumber(e,{unit:"month"}),s);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function rr(n,r,e){const t=y(n,e==null?void 0:e.in),a=Te(t,e)-r;return t.setDate(t.getDate()-a*7),y(t,e==null?void 0:e.in)}class nr extends h{constructor(){super(...arguments);u(this,"priority",100);u(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return g(M.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,s){return q(rr(e,a,s),s)}}function ar(n,r,e){const t=y(n,e==null?void 0:e.in),a=Pe(t,e)-r;return t.setDate(t.getDate()-a*7),t}class sr extends h{constructor(){super(...arguments);u(this,"priority",100);u(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return g(M.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return Q(ar(e,a))}}const ir=[31,28,31,30,31,30,31,31,30,31,30,31],ur=[31,29,31,30,31,30,31,31,30,31,30,31];class or extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"subPriority",1);u(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return g(M.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const a=e.getFullYear(),s=_e(a),i=e.getMonth();return s?t>=1&&t<=ur[i]:t>=1&&t<=ir[i]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class cr extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"subpriority",1);u(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return g(M.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const a=e.getFullYear();return _e(a)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function ce(n,r,e){var f,k,P,D,Y,F,I,V;const t=G(),a=(V=(I=(D=(P=e==null?void 0:e.weekStartsOn)!=null?P:(k=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:k.weekStartsOn)!=null?D:t.weekStartsOn)!=null?I:(F=(Y=t.locale)==null?void 0:Y.options)==null?void 0:F.weekStartsOn)!=null?V:0,s=y(n,e==null?void 0:e.in),i=s.getDay(),d=(r%7+7)%7,c=7-a,l=r<0||r>6?r-(i+c)%7:(d+c)%7-(i+c)%7;return ve(s,l,e)}class dr extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ce(e,a,s),e.setHours(0,0,0,0),e}}class lr extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,s){const i=o=>{const d=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return v(x(t.length,e),i);case"eo":return v(a.ordinalNumber(e,{unit:"day"}),i);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ce(e,a,s),e.setHours(0,0,0,0),e}}class fr extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,s){const i=o=>{const d=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return v(x(t.length,e),i);case"co":return v(a.ordinalNumber(e,{unit:"day"}),i);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ce(e,a,s),e.setHours(0,0,0,0),e}}function mr(n,r,e){const t=y(n,e==null?void 0:e.in),a=Nt(t,e),s=r-a;return ve(t,s,e)}class hr extends h{constructor(){super(...arguments);u(this,"priority",90);u(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const s=i=>i===0?7:i;switch(t){case"i":case"ii":return x(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return v(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return v(a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return v(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return v(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return e=mr(e,a),e.setHours(0,0,0,0),e}}class wr extends h{constructor(){super(...arguments);u(this,"priority",80);u(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(oe(a),0,0,0),e}}class yr extends h{constructor(){super(...arguments);u(this,"priority",80);u(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(oe(a),0,0,0),e}}class gr extends h{constructor(){super(...arguments);u(this,"priority",80);u(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(oe(a),0,0,0),e}}class br extends h{constructor(){super(...arguments);u(this,"priority",70);u(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return g(M.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const s=e.getHours()>=12;return s&&a<12?e.setHours(a+12,0,0,0):!s&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class xr extends h{constructor(){super(...arguments);u(this,"priority",70);u(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return g(M.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}}class Dr extends h{constructor(){super(...arguments);u(this,"priority",70);u(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return g(M.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class Mr extends h{constructor(){super(...arguments);u(this,"priority",70);u(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return g(M.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const s=a<=24?a%24:a;return e.setHours(s,0,0,0),e}}class vr extends h{constructor(){super(...arguments);u(this,"priority",60);u(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return g(M.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}}class Or extends h{constructor(){super(...arguments);u(this,"priority",50);u(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return g(M.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}}class kr extends h{constructor(){super(...arguments);u(this,"priority",30);u(this,"incompatibleTokens",["t","T"])}parse(e,t){const a=s=>Math.trunc(s*Math.pow(10,-t.length+3));return v(x(t.length,e),a)}set(e,t,a){return e.setMilliseconds(a),e}}class pr extends h{constructor(){super(...arguments);u(this,"priority",10);u(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return C(W.basicOptionalMinutes,e);case"XX":return C(W.basic,e);case"XXXX":return C(W.basicOptionalSeconds,e);case"XXXXX":return C(W.extendedOptionalSeconds,e);case"XXX":default:return C(W.extended,e)}}set(e,t,a){return t.timestampIsSet?e:O(e,e.getTime()-ee(e)-a)}}class Pr extends h{constructor(){super(...arguments);u(this,"priority",10);u(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return C(W.basicOptionalMinutes,e);case"xx":return C(W.basic,e);case"xxxx":return C(W.basicOptionalSeconds,e);case"xxxxx":return C(W.extendedOptionalSeconds,e);case"xxx":default:return C(W.extended,e)}}set(e,t,a){return t.timestampIsSet?e:O(e,e.getTime()-ee(e)-a)}}class Tr extends h{constructor(){super(...arguments);u(this,"priority",40);u(this,"incompatibleTokens","*")}parse(e){return Ce(e)}set(e,t,a){return[O(e,a*1e3),{timestampIsSet:!0}]}}class Yr extends h{constructor(){super(...arguments);u(this,"priority",20);u(this,"incompatibleTokens","*")}parse(e){return Ce(e)}set(e,t,a){return[O(e,a),{timestampIsSet:!0}]}}const Fr={G:new $t,y:new zt,Y:new Jt,R:new St,u:new Zt,Q:new Kt,q:new Ut,M:new er,L:new tr,w:new nr,I:new sr,d:new or,D:new cr,E:new dr,e:new lr,c:new fr,i:new hr,a:new wr,b:new yr,B:new gr,h:new br,H:new xr,K:new Dr,k:new Mr,m:new vr,s:new Or,S:new kr,X:new pr,x:new Pr,t:new Tr,T:new Yr},Ir=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Er=/^'([^]*?)'?$/,Wr=/''/g,Cr=/\S/,Vr=/[a-zA-Z]/;function _r(n,r,e,t){var F,I,V,X,B,A,j,$,z,J,S,Z,T,p,N,de,le,fe;const a=()=>O((t==null?void 0:t.in)||e,NaN),s=qt(),i=(I=(F=t==null?void 0:t.locale)!=null?F:s.locale)!=null?I:pe,o=(J=(z=(A=(B=t==null?void 0:t.firstWeekContainsDate)!=null?B:(X=(V=t==null?void 0:t.locale)==null?void 0:V.options)==null?void 0:X.firstWeekContainsDate)!=null?A:s.firstWeekContainsDate)!=null?z:($=(j=s.locale)==null?void 0:j.options)==null?void 0:$.firstWeekContainsDate)!=null?J:1,d=(fe=(le=(p=(T=t==null?void 0:t.weekStartsOn)!=null?T:(Z=(S=t==null?void 0:t.locale)==null?void 0:S.options)==null?void 0:Z.weekStartsOn)!=null?p:s.weekStartsOn)!=null?le:(de=(N=s.locale)==null?void 0:N.options)==null?void 0:de.weekStartsOn)!=null?fe:0;if(!r)return n?a():y(e,t==null?void 0:t.in);const c={firstWeekContainsDate:o,weekStartsOn:d,locale:i},l=[new jt(t==null?void 0:t.in,e)],f=r.match(Hr).map(m=>{const b=m[0];if(b in ae){const E=ae[b];return E(m,i.formatLong)}return m}).join("").match(Ir),k=[];for(let m of f){!(t!=null&&t.useAdditionalWeekYearTokens)&&Ie(m)&&se(m,r,n),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Fe(m)&&se(m,r,n);const b=m[0],E=Fr[b];if(E){const{incompatibleTokens:me}=E;if(Array.isArray(me)){const he=k.find(we=>me.includes(we.token)||we.token===b);if(he)throw new RangeError(`The format string mustn't contain \`${he.fullToken}\` and \`${m}\` at the same time`)}else if(E.incompatibleTokens==="*"&&k.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);k.push({token:b,fullToken:m});const re=E.run(n,m,i.match,c);if(!re)return a();l.push(re.setter),n=re.rest}else{if(b.match(Vr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=qr(m)),n.indexOf(m)===0)n=n.slice(m.length);else return a()}}if(n.length>0&&Cr.test(n))return a();const P=l.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,E)=>E.indexOf(m)===b).map(m=>l.filter(b=>b.priority===m).sort((b,E)=>E.subPriority-b.subPriority)).map(m=>m[0]);let D=y(e,t==null?void 0:t.in);if(isNaN(+D))return a();const Y={};for(const m of P){if(!m.validate(D,c))return a();const b=m.set(D,Y,c);Array.isArray(b)?(D=b[0],Object.assign(Y,b[1])):D=b}return D}function qr(n){return n.match(Er)[1].replace(Wr,"'")}const Rr=["y","M","d","H","m","s"],Nr=["y","M","d","H","m"];function Kr(n){const r=Array.from(new Set(n)).filter(e=>Rr.includes(e));return r!=null&&r.length?r:Nr}function Lr(n){return ke(n)?n:new Date}function H(n,r,e,t){var s;const a=[];for(let i=n;i<=r;i++)((s=t==null?void 0:t(i.toString(),e))!=null?s:!0)&&a.push(i.toString());return a}function Qr(n,r){return{selected:ue(n).toString(),data:H(1970,2099,n,r)}}function Gr(n,r){return{selected:(Ee(n)+1).toString(),data:H(1,12,n,r)}}function Xr(n,r){const e=ue(n),t=Ee(n),a=_t(n),s=He(new Date(e,t));return{selected:a.toString(),data:H(1,s,n,r)}}function Br(n,r){return{selected:Rt(n).toString(),data:H(0,23,n,r)}}function Ar(n,r){return{selected:Lt(n).toString(),data:H(0,59,n,r)}}function jr(n,r){return{selected:Qt(n).toString(),data:H(0,59,n,r)}}function Ur(n,r){const e=Lr(n);return{y:Qr(e,(r==null?void 0:r.y)||$r),M:Gr(e,r==null?void 0:r.M),d:Xr(e,r==null?void 0:r.d),H:Br(e,r==null?void 0:r.H),m:Ar(e,r==null?void 0:r.m),s:jr(e,r==null?void 0:r.s)}}function $r(n,r){const e=ue(r);return+n>=e-10&&+n<=e+10}function en(n){const r=[],e=[];return n.forEach(({type:t,value:a})=>{r.push(a);let s="";switch(t){case"y":s="yyyy";break;default:s=t;break}e.push(s)}),_r(r.join("/"),e.join("/"),new Date)}function tn(n,r){const e=+n.find(o=>o.type==="y").value,t=H(1,12,new Date(e),r),a=n.find(o=>o.type==="M").value,s=t.findIndex(o=>o===a),i=s>-1?t[s]:t[0];return{newValue:i,newIndex:Math.max(s,0),newOptions:t,valueChanged:i!==a}}function rn(n,r){const e=+n.find(c=>c.type==="y").value,t=+n.find(c=>c.type==="M").value-1,a=He(new Date(e,t)),s=H(1,a,new Date(e,t),r),i=n.find(c=>c.type==="d").value,o=s.findIndex(c=>c===i),d=o>-1?s[o]:s[0];return{newValue:d,newIndex:Math.max(o,0),newOptions:s,valueChanged:d!==i}}function nn(n,r){const e=+n.find(c=>c.type==="y").value,t=+n.find(c=>c.type==="M").value-1,a=+n.find(c=>c.type==="d").value,s=H(0,23,new Date(e,t,a),r),i=n.find(c=>c.type==="H").value,o=s.findIndex(c=>c===i),d=o>-1?s[o]:s[0];return{newValue:d,newIndex:Math.max(o,0),newOptions:s,valueChanged:d!==i}}function an(n,r){const e=+n.find(l=>l.type==="y").value,t=+n.find(l=>l.type==="M").value-1,a=+n.find(l=>l.type==="d").value,s=+n.find(l=>l.type==="H").value,i=H(0,59,new Date(e,t,a,s),r),o=n.find(l=>l.type==="m").value,d=i.findIndex(l=>l===o),c=d>-1?i[d]:i[0];return{newValue:c,newIndex:Math.max(d,0),newOptions:i,valueChanged:c!==o}}function sn(n,r){const e=+n.find(f=>f.type==="y").value,t=+n.find(f=>f.type==="M").value-1,a=+n.find(f=>f.type==="d").value,s=+n.find(f=>f.type==="H").value,i=+n.find(f=>f.type==="m").value,o=H(0,59,new Date(e,t,a,s,i),r),d=n.find(f=>f.type==="s").value,c=o.findIndex(f=>f===d),l=c>-1?o[c]:o[0];return{newValue:l,newIndex:Math.max(c,0),newOptions:o,valueChanged:l!==d}}export{Nr as D,en as a,Sr as b,Qt as c,Lt as d,Rt as e,Zr as f,Ur as g,_t as h,Ee as i,ue as j,tn as k,nn as l,an as m,sn as n,Jr as t,rn as u,Kr as v};
